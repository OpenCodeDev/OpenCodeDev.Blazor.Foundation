@inherits NewComponentBase
@using Microsoft.AspNetCore.Components;
@using Microsoft.AspNetCore.Components.Web;
@using OpenCodeDev.Blazor.Foundation.Components.Plugins.Blazor;
@using OpenCodeDev.Blazor.Foundation.Components.Plugins.Markdown.Engine
@using static OpenCodeDev.Blazor.Foundation.Extensions.RenderFragmentExt
<input type="text" data-inputmask="'mask': '9999 9999 9999 9999'"
       @bind="@BackingNumber" 
       @oninput="@(async (args)=>await Input(args))" 
       @attributes="@AdditionalAttributes" disabled=@IsDisabled() />

@code {

    [RegisterMarkdown(typeof(OpenCodeDev.Blazor.Foundation.Components.Controls.InputCreditCard))]
    public static async Task<MarkdownElement?> FromMarkdown(MarkdownComponent data)
    {
        return new MarkdownElement(p =>
        {
            p.OpenComponent<InputCreditCard>(AutoIndex());
            p.AddAttribute(AutoIndex(), nameof(OnChangeAcceptKey), data.GetArgument(nameof(OnChangeAcceptKey), false));
            p.CloseComponent();
        }, data.Position);
    }
    
}
